<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="../download1.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Password Breach Check – CyberScan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Orbitron:wght@600;700&display=swap');
    
    :root {
      --primary-glow: rgba(59, 130, 246, 0.5);
      --success-glow: rgba(16, 185, 129, 0.5);
      --danger-glow: rgba(239, 68, 68, 0.5);
    }
    
    body {
      font-family: 'JetBrains Mono', monospace;
      background: url("wallpapers/7.jpg") no-repeat center center fixed;
      background-size: cover;
      position: relative;
      overflow-x: hidden;
      transition: background-color 0.4s ease;
    }
    
    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.7);
      z-index: -1;
      transition: background-color 0.4s ease;
    }
    
    body.safe-theme::before {
      background: rgba(5, 46, 22, 0.85);
    }
    
    body.unsafe-theme::before {
      background: rgba(69, 10, 10, 0.85);
    }
    
    .cyber-border {
      position: relative;
      border: 1px solid rgba(59, 130, 246, 0.3);
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.2);
    }
    
    .cyber-border::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      border: 1px solid rgba(59, 130, 246, 0.2);
      pointer-events: none;
    }
    
    .cyber-glow {
      box-shadow: 0 0 10px var(--primary-glow), 0 0 20px var(--primary-glow);
    }
    
    .cyber-glow-success {
      box-shadow: 0 0 10px var(--success-glow), 0 0 20px var(--success-glow);
    }
    
    .cyber-glow-danger {
      box-shadow: 0 0 10px var(--danger-glow), 0 0 20px var(--danger-glow);
    }
    
    .hacker-text {
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 5px rgba(59, 130, 246, 0.7);
      letter-spacing: 1px;
    }
    
    .password-input {
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(59, 130, 246, 0.4);
      color: white;
      backdrop-filter: blur(5px);
    }
    
    .password-input:focus {
      outline: none;
      border-color: rgba(59, 130, 246, 0.8);
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.25);
    }
    
    .terminal-line {
      position: relative;
      padding-left: 1.5rem;
    }
    
    .terminal-line::before {
      content: '>';
      position: absolute;
      left: 0.25rem;
      color: rgb(16, 185, 129);
      font-weight: bold;
    }
    
    .strength-meter {
      background: linear-gradient(90deg, 
        #ef4444 0%, 
        #f59e0b 25%, 
        #eab308 50%, 
        #84cc16 75%, 
        #22c55e 100%);
      height: 6px;
      border-radius: 3px;
      overflow: hidden;
    }
    
    .strength-indicator {
      height: 100%;
      width: 0%;
      transition: width 0.5s ease;
      background: rgba(15, 23, 42, 0.9);
    }
    
    .hex-pattern {
      background-image: 
        linear-gradient(rgba(12, 24, 49, 0.9) 1px, transparent 1px),
        linear-gradient(90deg, rgba(12, 24, 49, 0.9) 1px, transparent 1px);
      background-size: 20px 20px;
    }
    
    .cyber-button {
      background: linear-gradient(90deg, #1d4ed8 0%, #3b82f6 100%);
      border: none;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .cyber-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.5s ease;
    }
    
    .cyber-button:hover::before {
      left: 100%;
    }
    
    .cyber-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
    }
    
    .cyber-button:active {
      transform: translateY(0);
    }
    
    .cyber-button-success {
      background: linear-gradient(90deg, #059669 0%, #10b981 100%);
    }
    
    .cyber-button-danger {
      background: linear-gradient(90deg, #b91c1c 0%, #ef4444 100%);
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
      100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
    }
    
    .floating {
      animation: floating 3s ease-in-out infinite;
    }
    
    @keyframes floating {
      0% { transform: translate(0, 0px); }
      50% { transform: translate(0, -8px); }
      100% { transform: translate(0, 0px); }
    }
    
    .transition-theme {
      transition: all 0.4s ease;
    }
    
    .hacker-terminal {
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(59, 130, 246, 0.3);
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
      backdrop-filter: blur(5px);
      transition: all 0.4s ease;
    }
    
    .info-box-safe {
      background: rgba(6, 78, 59, 0.7) !important;
      border-color: rgba(16, 185, 129, 0.3) !important;
    }
    
    .info-box-unsafe {
      background: rgba(127, 29, 29, 0.7) !important;
      border-color: rgba(239, 68, 68, 0.3) !important;
    }
  </style>
</head>
<body class="flex flex-col items-center min-h-screen p-6 gap-6 text-gray-200">
  
  <header class="w-full max-w-4xl flex justify-between items-center mb-4">
    <a href="../index.html" class="flex items-center text-cyan-400 hover:text-cyan-300 transition-colors">
      <i class="fas fa-arrow-left mr-2"></i>
      <span>Back</span>
    </a>
    <div class="flex items-center">
      <div class="w-3 h-3 bg-green-500 rounded-full mr-2 pulse"></div>
      <span class="text-sm">Secure Connection</span>
    </div>
  </header>

  
  <main class="w-full max-w-4xl flex flex-col items-center">
    
    <div class="text-center mb-8">
      <div class="floating inline-block p-3 rounded-full bg-blue-900/20 mb-4">
        <i class="fas fa-key text-4xl text-cyan-400"></i>
      </div>
      <h1 class="hacker-text text-4xl md:text-5xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500">
        PASSWORD BREACH CHECK
      </h1>
      <p class="text-gray-400">Analyze password strength and breach exposure</p>
    </div>

   
    <div id="infoBox" class="hacker-terminal w-full rounded-xl p-5 mb-8 transition-theme">
      <div class="flex items-start">
        <div class="mr-4 text-cyan-400 text-xl">
          <i class="fas fa-shield-alt"></i>
        </div>
        <div>
          <h2 class="font-bold text-lg mb-2">Security Notice</h2>
          <p class="terminal-line mb-2">Enter any password to check if it's been exposed in known data breaches using the <strong>Have I Been Pwned</strong> API.</p>
          <p class="terminal-line"><strong class="text-green-400">Your password is never transmitted in plain text</strong> — it's hashed and anonymized before checking using the k-anonymity model.</p>
        </div>
      </div>
    </div>

   
    <div class="w-full max-w-xl flex flex-col gap-5 mb-8">
      <div class="relative">
        <div class="absolute inset-0 bg-gradient-to-r from-blue-700 to-cyan-600 rounded-xl blur-md opacity-30"></div>
        <div class="relative">
          <input id="pwinput" type="password" placeholder="Enter password to analyze..." class="password-input w-full p-4 rounded-xl pr-12 text-lg placeholder-gray-500" />
          <button onclick="togglePassword()" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-cyan-400 transition-colors">
            <i class="fas fa-eye text-xl"></i>
          </button>
        </div>
      </div>
      
      <button onclick="checkPw()" id="checkBtn" class="cyber-button text-white font-bold py-4 rounded-xl text-lg transition-theme">
        <i class="fas fa-search mr-2"></i> INITIATE SECURITY SCAN
      </button>
      
      <div class="mt-2">
        <div class="flex justify-between items-center mb-2">
          <span class="text-sm font-medium">Password Strength</span>
          <span id="strengthText" class="text-sm">Very Weak</span>
        </div>
        <div class="strength-meter">
          <div id="strengthBar" class="strength-indicator"></div>
        </div>
      </div>
    </div>

   
    <div id="pwResult" class="text-xl font-bold min-h-[2rem] mb-4 text-center"></div>

    
    <div id="pwDetails" class="hidden hacker-terminal w-full max-w-2xl p-5 rounded-xl transition-theme hex-pattern">
      <div class="flex items-center mb-4">
        <div class="h-0.5 flex-grow bg-gradient-to-r from-transparent via-cyan-500 to-transparent mr-3"></div>
        <h3 class="text-lg font-bold text-cyan-400 whitespace-nowrap">SCAN RESULTS</h3>
        <div class="h-0.5 flex-grow bg-gradient-to-r from-transparent via-cyan-500 to-transparent ml-3"></div>
      </div>
      <div class="space-y-3" id="resultContent"></div>
    </div>
  </main>

 
  <footer class="mt-10 text-center text-gray-500 text-sm">
    <p>Powered by Have I Been Pwned API • <span id="currentYear"></span></p>
  </footer>

  <script>
    
    document.getElementById('currentYear').textContent = new Date().getFullYear();
    
    function togglePassword() {
      const pw = document.getElementById('pwinput');
      const icon = pw.parentElement.querySelector('i');
      if (pw.type === 'password') {
        pw.type = 'text';
        icon.classList.replace('fa-eye', 'fa-eye-slash');
      } else {
        pw.type = 'password';
        icon.classList.replace('fa-eye-slash', 'fa-eye');
      }
    }


    function evaluateStrength(pw) {
      const bar = document.getElementById('strengthBar');
      const text = document.getElementById('strengthText');
      let strength = 0;
      
      if (pw.length > 5) strength += 1;
      if (pw.length > 10) strength += 1;
      if (/[A-Z]/.test(pw)) strength += 1;
      if (/[0-9]/.test(pw)) strength += 1;
      if (/[^a-zA-Z0-9]/.test(pw)) strength += 1;
      
      const width = Math.min(strength * 20, 100);
      bar.style.width = `${width}%`;
      
      const colors = ['bg-red-500', 'bg-orange-500', 'bg-yellow-500', 'bg-lime-500', 'bg-green-500'];
      const texts = ['Very Weak', 'Weak', 'Moderate', 'Strong', 'Very Strong'];
      
      bar.className = `strength-indicator ${colors[strength - 1] || 'bg-red-500'}`;
      text.textContent = texts[strength - 1] || 'Very Weak';
      text.className = `text-sm ${strength < 2 ? 'text-red-400' : strength < 4 ? 'text-yellow-400' : 'text-green-400'}`;
    }

    document.getElementById('pwinput').addEventListener('input', e => evaluateStrength(e.target.value));

    async function sha1(text) {
      const buffer = await crypto.subtle.digest('SHA-1', new TextEncoder().encode(text));
      return Array.from(new Uint8Array(buffer)).map(b => b.toString(16).padStart(2, '0')).join('').toUpperCase();
    }

    function setThemeSafe() {
      document.body.classList.add('safe-theme');
      document.body.classList.remove('unsafe-theme');
      document.getElementById('checkBtn').classList.add('cyber-glow-success', 'cyber-button-success');
      document.getElementById('checkBtn').classList.remove('cyber-glow-danger', 'cyber-button-danger');
      document.getElementById('infoBox').classList.add('cyber-glow-success', 'info-box-safe');
      document.getElementById('infoBox').classList.remove('cyber-glow-danger', 'info-box-unsafe');
    }

    function setThemeUnsafe() {
      document.body.classList.add('unsafe-theme');
      document.body.classList.remove('safe-theme');
      document.getElementById('checkBtn').classList.add('cyber-glow-danger', 'cyber-button-danger');
      document.getElementById('checkBtn').classList.remove('cyber-glow-success', 'cyber-button-success');
      document.getElementById('infoBox').classList.add('cyber-glow-danger', 'info-box-unsafe');
      document.getElementById('infoBox').classList.remove('cyber-glow-success', 'info-box-safe');
    }

    function resetTheme() {
      document.body.classList.remove('safe-theme', 'unsafe-theme');
      document.getElementById('checkBtn').classList.remove('cyber-glow-success', 'cyber-glow-danger', 'cyber-button-success', 'cyber-button-danger');
      document.getElementById('infoBox').classList.remove('cyber-glow-success', 'cyber-glow-danger', 'info-box-safe', 'info-box-unsafe');
      document.getElementById('checkBtn').classList.add('cyber-button');
    }

    async function checkPw() {
      const pw = document.getElementById('pwinput').value;
      const resultEl = document.getElementById('pwResult');
      const detailEl = document.getElementById('pwDetails');
      const resultContent = document.getElementById('resultContent');

      detailEl.classList.add('hidden');
      resultContent.innerHTML = '';
      resultEl.textContent = '';
      resetTheme();

      if (!pw) {
        resultEl.textContent = '⚠️ Please enter a password';
        resultEl.className = 'text-yellow-400 font-bold';
        return;
      }

      resultEl.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Scanning password security...';
      resultEl.className = 'text-cyan-400 font-bold';

      const hash = await sha1(pw);
      const prefix = hash.slice(0, 5);
      const suffix = hash.slice(5);

      try {
        const resp = await fetch(`https://api.pwnedpasswords.com/range/${prefix}`);
        const text = await resp.text();
        const line = text.split('\n').find(l => l.startsWith(suffix));

        if (line) {
          const count = line.split(':')[1].trim();
          resultEl.innerHTML = '<i class="fas fa-radiation-alt mr-2"></i> SECURITY BREACH DETECTED!';
          resultEl.className = 'text-red-400 font-bold';
          setThemeUnsafe();

          resultContent.innerHTML = `
            <div class="terminal-line">
              <span class="text-red-400"><strong>COMPROMISED:</strong> Yes</span>
            </div>
            <div class="terminal-line">
              <span class="text-red-400"><strong>BREACH COUNT:</strong> ${count} known exposures</span>
            </div>
            <div class="terminal-line">
              <span class="text-red-400"><strong>RISK LEVEL:</strong> HIGH</span>
            </div>
            <div class="mt-4 p-3 bg-red-900/30 rounded-lg border border-red-700/50">
              <strong class="text-red-300">SECURITY ADVISORY:</strong> This password has appeared in known data breaches. 
              Immediately discontinue use and replace with a strong, unique password.
            </div>
          `;
        } else {
          resultEl.innerHTML = '<i class="fas fa-shield-check mr-2"></i> PASSWORD SECURE';
          resultEl.className = 'text-green-400 font-bold';
          setThemeSafe();

          resultContent.innerHTML = `
            <div class="terminal-line">
              <span class="text-green-400"><strong>COMPROMISED:</strong> No</span>
            </div>
            <div class="terminal-line">
              <span class="text-green-400"><strong>BREACH COUNT:</strong> 0 known exposures</span>
            </div>
            <div class="terminal-line">
              <span class="text-green-400"><strong>RISK LEVEL:</strong> LOW</span>
            </div>
            <div class="mt-4 p-3 bg-green-900/30 rounded-lg border border-green-700/50">
              <strong class="text-green-300">SECURITY STATUS:</strong> This password has not been found in any known data breaches.
              Continue to use strong, unique passwords for each service.
            </div>
          `;
        }

        detailEl.classList.remove('hidden');
      } catch (err) {
        resultEl.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i> NETWORK ANALYSIS FAILED';
        resultEl.className = 'text-red-400 font-bold';
        console.error(err);
      }
    }
    
    window.addEventListener("DOMContentLoaded", () => {
      const urlParams = new URLSearchParams(window.location.search);
      const prefilledPw = urlParams.get('pw') || urlParams.get('pwInput');
      if (prefilledPw) {
        const pwinput = document.getElementById('pwinput');
        pwinput.value = prefilledPw;
        evaluateStrength(prefilledPw);
        checkPw(); 
      }
    });
  </script>
</body>
</html>